{% comment "License" %}
% Copyright (c) 2019 ISP RAS (http://www.ispras.ru)
% Ivannikov Institute for System Programming of the Russian Academy of Sciences
%
% Licensed under the Apache License, Version 2.0 (the "License");
% you may not use this file except in compliance with the License.
% You may obtain a copy of the License at
%
%    http://www.apache.org/licenses/LICENSE-2.0
%
% Unless required by applicable law or agreed to in writing, software
% distributed under the License is distributed on an "AS IS" BASIS,
% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
% See the License for the specific language governing permissions and
% limitations under the License.
{% endcomment %}

{% load i18n %}

<div id="job_filters_accordion" class="ui styled accordion fluid">
    <div class="title"><i class="setting icon"></i>{{ view.viewtitle }}</div>
    <div class="content ui small form">
        {% include 'users/views/viewButtons.html' %}
        <div class="ui divider"></div>
        <div class="ui grid">
            <div class="ten wide column">
                <h3>{% trans 'Number of rows' %}</h3>
                <input id="view_data_{{ view.type }}__elements" value="list" data-list="elements" type="hidden">
                <label for="view_{{ view.type }}__elements"></label>
                <div class="ui input"><input id="view_{{ view.type }}__elements" type="number"{% if 'elements' in view %} value="{{ view.elements.0 }}"{% endif %}></div>
                <div class="ui divider"></div>

                <h3>{% trans 'Columns' %}</h3>
                <div class="ui divider"></div>
                {% include 'users/views/viewColumns.html' %}
            </div>
            <div class="six wide column">
                <h3>{% trans 'Filters' %}</h3>
                <div class="ui divider"></div>

                {# Association type #}
                <input id="view_data_{{ view.type }}__ass_type" value="checkboxes_if_ass_type" type="hidden">
                <div class="ui checkbox">
                    <input type="checkbox" id="view_condition_{{ view.type }}__ass_type"{% if 'ass_type' in view %} checked{% endif %}>
                    <label for="view_condition_{{ view.type }}__ass_type">{% trans 'Association type' %}</label>
                </div>
                <br><br>
                <div style="margin-left: 15px;">
                    {% for ass_type in ass_types %}
                        <div class="ui checkbox">
                            <input id="view_{{ view.type }}__ass_type__{{ ass_type.0 }}" type="checkbox" value="{{ ass_type.0 }}"{% if 'ass_type' in view and ass_type.0 in view.ass_type %} checked{% endif %}>
                            <label for="view_{{ view.type }}__ass_type__{{ ass_type.0 }}">{{ ass_type.1 }}</label>
                        </div>
                        <br>
                    {% endfor %}
                </div>
                <div class="ui divider"></div>

                {# Associated #}
                <input id="view_data_{{ view.type }}__associated" value="list_if_associated" data-list="associated" type="hidden">
                <div class="ui checkbox">
                    <input type="checkbox" id="view_condition_{{ view.type }}__associated"{% if 'associated' in view %} checked{% endif %}>
                    <label for="view_condition_{{ view.type }}__associated">{% trans 'Only associated' %}</label>
                </div>
                <input id="view_{{ view.type }}__associated" value="true" type="hidden">
            </div>
        </div>
        <div class="ui divider"></div>

        {% include 'users/views/viewCreateForm.html' %}
    </div>
</div>
